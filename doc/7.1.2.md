# 7.1.2 用户和用户组管理-用户配置文件-影子文件(/etc/shadow)

`/etc/shadow`真正保存加密后的密码，`/etc/passwd`中只存在密码标志`x`

```bash
# 644
ll /etc/passwd
# 000
ll /etc/shadow
```
## 影子文件`/etc/shadow`
- 第1个字段：用户名
- 第2个字段：加密密码
    - 机密算法升级为SHA512散列加密算法
    - 如果密码位是`!!`或`*`代表没有密码，不能登录
    - 可以通过在加密密码前添加一个`!`来临时禁用用户
- 第3个字段：密码最后一次修改日期
    - 使用1970年1月1日作为标准时间，每过一天时间戳加1
- 第4个字段：两次密码的修改间隔时间（和第三个字段相比）
- 第5个字段：密码有效期（和第三个字段相比）
- 第6个字段：密码修改到期前的警告天数（和第5个字段相比）
- 第7个字段：密码过期后的宽限天数（和第5个字段相比）
    - 0:代表密码过期后立即失效
    - -1:则代表密码永远不会失效
- 第8个字段：账号失效时间
    - 要用时间戳表示
- 第9个字段：保留

## 时间戳换算
- 把时间戳换算为日期
    - date -d "1970-01-01 16066 days"
- 把日期换算为时间戳
    - echo $((`date --utc --date "$1" +%s`/86400))
