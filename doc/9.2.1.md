# 9.2.1 文件系统管理-文件系统常用命令-df、du、fsck、dumpe2fs

## 文件系统查看命令: `df`
`df` [选项] [挂载点]
- -a 显示所有的文件系统信息，包括特殊文件系统，如`/proc`,`/sysfs`
- -h 使用习惯单位显示容量，如KB，MB或GB等
- -T 显示文件系统类型
- -m 以MB为单位显示容量
- -k 以KB为单位显示容量。默认就是以KB为单位

## 统计目录或文件大小
`du` [选项] [目录或文件名]
- -a 显示每个子文件的磁盘占用量。默认只统计子目录的磁盘占用量
- -h 使用习惯单位显示磁盘占用量，如KB，MB或GB等
- -s 统计总占用量，而不是列出子目录和自文件的占用量

```bash
# 查看文件大小，一般不用du命令
ll -h
# 使用ls统计目录大小，只会统计目录下一级子目录和子文件的文件名占用的空间，而不会统计子目录中的数据和子文件中的数据占用空间
ll -h /

# 统计目录大小使用du命令，du命令会统计出目录下所有子目录占用多大空间，最后统计目录总大小
du -h /etc
# 统计总占用量，而不是列出子目录和自文件的占用量
du -sh /etc
```

## df命令与du命令的区别
- df命令是从文件系统考虑的，不光要考虑文件占用的空间，还要统计被命令或程序占用的空间（最常见的就是文件已经删除，但是程序并没有释放空间）
- du命令是面向文件的，只会计算文件或目录的占用空间

```bash
df -h
# /dev/mapper/centos-root   17G  1.8G   16G  11% /
du -sh /
# 1.9G	/
```

## 文件系统修复命令fsck
`fsck` [选项] 分区设备文件名
- -a：不用显示用户提示，自动修复文件系统
- -y：自动修复。和`-a`作用一致，不过有些文件系统只支持`-y`

这个命令不需要手工执行，我们系统开机后会自动进行检测

## 显示磁盘状态命令`dumpe2fs` or `xfs_info`
```bash
df -T
# /dev/mapper/centos-root xfs       17811456 1843152  15968304  11% /
xfs_info /dev/mapper/centos-root
```
## Q&A
- [Centos7 dumpe2fs: 没有那个文件或目录](https://blog.csdn.net/xujing19920814/article/details/75308607)
