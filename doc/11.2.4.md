# 11.2.4 Shell编程-字符截取命令-sed命令
`sed`是一种几乎包括所有UNIX平台（包括Linux）的轻量级流编辑器。sed主要是用来将数据进行选取、替换、删除、新增的命令。
## `sed`命令
`sed [选项] '[动作]' 文件名`
选项：
- -n： 一般`sed`命令会把所有数据都输出到屏幕，如果加入此选项，则只会把经过`sed`命令处理的行输出到屏幕。
- -e： 允许对输入数据应用多条`sed`命令编辑
- -i： 用`sed`的修改结果直接修改读取数据的文件，而不是由屏幕输出

动作：
- `a\`: 追加，在当前行后追加一行或多行。添加多行时，除最后一行外，每行末尾需要用`\`代表数据未完结。
- `c\`: 行替换，用c后面的字符串替换原数据行，替换多行时，除最后一行外，每行末尾需要用`\`代表数据未完结。
- `i\`: 插入，在当前行前插入一行或多行。插入多行时，除最后一行外，每行末尾都需要用`\`代表数据未完结。
- `d`: 删除，删除指定的行
- `np`: 打印，输出指定的行
- `s`: 字符串替换，用一个字符串替换另外一个字符串。格式为`行范围s/旧字符串/新字符串/g`（和vim中的替换格式类似）。

## 行数据操作
```bash
# 查看文件的第二行
sed '2p' student.txt
# 只查看文件的第二行
sed -n '2p' student.txt

# 通过管道符接收命令的结果
df -h | sed -n '2p'

# 删除第二行到第四行的数据，但不修改文件本身
sed '2,4d' student.txt

# 在第二行后追加hello
sed '2a hello' student.txt

# 在第二行前追加两行
# hello
# world
sed '2i hello \ world' student.txt

# 将第二行替换为hello world
sed '2c hello world' student.txt
```

## 字符串替换
```bash
# 把第三行的86替换成100
sed '3s/86/100/g' student.txt

# 把第三行的86替换成100，并且修改原文件
sed -i '3s/86/100/g' student.txt

# 同时把“Liming”和“Shenchao”替换为空，-e选项允许多个条件同时执行，多个条件用分号分开
sed -e 's/Liming//g; s/Shenchao//g' student.txt
```
